(function(e){function t(t){for(var n,c,l=t[0],i=t[1],u=t[2],s=0,b=[];s<l.length;s++)c=l[s],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);d&&d(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,l=1;l<r.length;l++){var i=r[l];0!==o[i]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/satis-test/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3a3d":function(e,t,r){"use strict";r("fe62")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o=Object(n["withScopeId"])("data-v-155496f8");Object(n["pushScopeId"])("data-v-155496f8");var a=Object(n["createTextVNode"])(" Список сотрудников ");Object(n["popScopeId"])();var c=o((function(e,t,r,c,l,i){var u=Object(n["resolveComponent"])("q-toolbar-title"),d=Object(n["resolveComponent"])("q-toolbar"),s=Object(n["resolveComponent"])("q-header"),b=Object(n["resolveComponent"])("workers-list"),f=Object(n["resolveComponent"])("q-page-container"),p=Object(n["resolveComponent"])("q-layout");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{view:"hHh lpR fFf",class:"page"},{default:o((function(){return[Object(n["createVNode"])(s,{elevated:"",class:"bg-primary text-white"},{default:o((function(){return[Object(n["createVNode"])(d,null,{default:o((function(){return[Object(n["createVNode"])(u,null,{default:o((function(){return[a]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(f,{style:{width:"650px"}},{default:o((function(){return[Object(n["createVNode"])(b)]})),_:1})]})),_:1})})),l=Object(n["createTextVNode"])(" Add first worker or wait for loading! ");function i(e,t,r,o,a,c){var i=Object(n["resolveComponent"])("q-ajax-bar"),u=Object(n["resolveComponent"])("worker"),d=Object(n["resolveComponent"])("draggable"),s=Object(n["resolveComponent"])("q-card-section"),b=Object(n["resolveComponent"])("q-card"),f=Object(n["resolveComponent"])("form-worker"),p=Object(n["resolveComponent"])("q-dialog"),O=Object(n["resolveComponent"])("q-btn"),j=Object(n["resolveComponent"])("q-page-sticky"),m=Object(n["resolveComponent"])("q-list");return Object(n["openBlock"])(),Object(n["createBlock"])(m,{bordered:"",class:"rounded-borders",separator:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{ref:"bar",position:"bottom",color:"blue",size:"10px","skip-hijack":""},null,512),o.workers.length?(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:0,modelValue:o.workers,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.workers=e}),onStart:t[2]||(t[2]=function(e){return o.drag=!0}),onEnd:t[3]||(t[3]=function(){o.drag=!1,o.saveChanges()}),tag:"transition-group","item-key":"name"},{item:Object(n["withCtx"])((function(e){var t=e.element;return[Object(n["createVNode"])(u,{class:"list-group-item",worker:t,editClickHandler:o.editClickHandler,deleteClickHandler:o.deleteWorker},null,8,["worker","editClickHandler","deleteClickHandler"])]})),_:1},8,["modelValue"])):(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:1,class:"text-caption text-weight-light"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[l]})),_:1})]})),_:1})),Object(n["createVNode"])(p,{modelValue:o.editFormVisible,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.editFormVisible=e})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{worker:o.editAddToggler?{name:"",gender:"male",avatar:"",birthDate:"",address:"",phone:"",email:""}:o.workers[o.editing],header:o.editAddToggler?"Добавить сотрудника":"Редактировать данные",submit:o.editAddToggler?o.addSubmit:o.editSubmit},null,8,["worker","header","submit"])]})),_:1},8,["modelValue"]),Object(n["createVNode"])(j,{position:"bottom-right",offset:[18,18]},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{fab:"",icon:"add",color:"green",onClick:o.addClickHandler},null,8,["onClick"])]})),_:1})]})),_:1})}r("a434"),r("c740"),r("b0c0"),r("a15b"),r("ac1f"),r("1276");var u=Object(n["createTextVNode"])("Дата рождения"),d=Object(n["createTextVNode"])("Домашний адрес"),s=Object(n["createTextVNode"])("Номер телефона"),b=Object(n["createTextVNode"])("Электронная почта");function f(e,t,r,o,a,c){var l=Object(n["resolveComponent"])("q-avatar"),i=Object(n["resolveComponent"])("q-item-section"),f=Object(n["resolveComponent"])("q-btn"),p=Object(n["resolveComponent"])("q-icon"),O=Object(n["resolveComponent"])("q-item-label"),j=Object(n["resolveComponent"])("q-item"),m=Object(n["resolveComponent"])("q-list"),g=Object(n["resolveComponent"])("q-card"),v=Object(n["resolveComponent"])("q-expansion-item");return Object(n["openBlock"])(),Object(n["createBlock"])(v,null,{header:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{avatar:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("img",{src:r.worker.avatar?r.worker.avatar:o.EMPTY_AVATAR},null,8,["src"])]})),_:1})]})),_:1}),Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.worker.name),1)]})),_:1}),Object(n["createVNode"])(f,{flat:"",round:"",color:"primary",icon:"edit",onClick:t[1]||(t[1]=function(e){return r.editClickHandler(e,r.worker.name)})}),Object(n["createVNode"])(f,{flat:"",round:"",color:"red",icon:"delete",onClick:t[2]||(t[2]=function(e){return r.deleteClickHandler(e,r.worker.name)})})]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(j,{clickable:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{avatar:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{color:"grey",name:"cake"})]})),_:1}),Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.worker.birthDate),1)]})),_:1}),Object(n["createVNode"])(O,{caption:""},{default:Object(n["withCtx"])((function(){return[u]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(j,{clickable:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{avatar:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{color:"grey",name:"home"})]})),_:1}),Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.worker.address),1)]})),_:1}),Object(n["createVNode"])(O,{caption:""},{default:Object(n["withCtx"])((function(){return[d]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(j,{clickable:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{avatar:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{color:"grey",name:"phone"})]})),_:1}),Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.worker.phone),1)]})),_:1}),Object(n["createVNode"])(O,{caption:""},{default:Object(n["withCtx"])((function(){return[s]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(j,{clickable:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{avatar:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{color:"grey",name:"email"})]})),_:1}),Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.worker.email),1)]})),_:1}),Object(n["createVNode"])(O,{caption:""},{default:Object(n["withCtx"])((function(){return[b]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var p={props:{worker:{name:String,gender:String,avatar:String,birthDate:String,address:String,phone:String,email:String},editClickHandler:Function,deleteClickHandler:Function},setup:function(){var e="https://pbs.twimg.com/media/DD1g0nFUMAEElE0.jpg";return{EMPTY_AVATAR:e}}},O=r("3b73"),j=r("4074"),m=r("cb32"),g=r("9c40"),v=r("f09f"),h=r("1c1c"),k=r("66e5"),V=r("0016"),w=r("0170"),C=r("93dc"),N=r.n(C);p.render=f;var x=p;N()(p,"components",{QExpansionItem:O["a"],QItemSection:j["a"],QAvatar:m["a"],QBtn:g["a"],QCard:v["a"],QList:h["a"],QItem:k["a"],QIcon:V["a"],QItemLabel:w["a"]});var y=r("bc3a"),_=r.n(y),S={class:"text-h6"};function D(e,t,r,o,a,c){var l=Object(n["resolveComponent"])("q-card-section"),i=Object(n["resolveComponent"])("q-avatar"),u=Object(n["resolveComponent"])("q-btn-toggle"),d=Object(n["resolveComponent"])("q-input"),s=Object(n["resolveComponent"])("q-btn"),b=Object(n["resolveComponent"])("q-form"),f=Object(n["resolveComponent"])("q-card"),p=Object(n["resolveDirective"])("close-popup");return Object(n["openBlock"])(),Object(n["createBlock"])(f,{style:{width:"350px"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{class:"bg-primary text-white"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",S,Object(n["toDisplayString"])(r.header),1)]})),_:1}),Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{onSubmit:t[8]||(t[8]=function(e){return r.submit(e,o.editingWorker)}),class:"q-gutter-md"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("img",{src:o.editingWorker.avatar?o.editingWorker.avatar:o.EMPTY_AVATAR},null,8,["src"])]})),_:1}),Object(n["createVNode"])(u,{modelValue:o.editingWorker.gender,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.editingWorker.gender=e}),"toggle-color":"primary",flat:"",options:[{label:"Мужской",value:"male"},{label:"Женский",value:"female"}]},null,8,["modelValue"]),Object(n["createVNode"])(d,{filled:"",type:"url",modelValue:o.editingWorker.avatar,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.editingWorker.avatar=e}),label:"Аватар",hint:"Ссылка на аватар сотрудника"},null,8,["modelValue"]),Object(n["createVNode"])(d,{filled:"",modelValue:o.editingWorker.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.editingWorker.name=e}),label:"Имя",hint:"Имя и\r\n        фамилия",rules:[function(e){return!!e||"Обязательное поле"},function(e){return e.split(" ").length>1&&""!==e.split(" ")[0]&&""!==e.split(" ")[1]||"Введите имя и фамилию полностью"}]},null,8,["modelValue","rules"]),Object(n["createVNode"])(d,{modelValue:o.editingWorker.birthDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.editingWorker.birthDate=e}),filled:"",type:"date",hint:"Дата\r\n        рождения",rules:[function(e){return!!e||"Обязательное поле"},function(e){return Math.floor((Date.now()-Date.parse(e))/315576e5)>=18||"Сотрудник должен быть старше 18 лет"}]},null,8,["modelValue","rules"]),Object(n["createVNode"])(d,{modelValue:o.editingWorker.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.editingWorker.address=e}),filled:"",label:"Адрес",hint:"Домашний адрес",rules:[function(e){return!!e||"Обязательное поле"}]},null,8,["modelValue","rules"]),Object(n["createVNode"])(d,{modelValue:o.editingWorker.phone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.editingWorker.phone=e}),filled:"",type:"tel",hint:"Телефон",mask:"phone","unmasked-value":"",rules:[function(e){return!!e||"Обязательное поле"}]},null,8,["modelValue","rules"]),Object(n["createVNode"])(d,{modelValue:o.editingWorker.email,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.editingWorker.email=e}),filled:"",type:"email",hint:"Электронная почта",rules:[function(e){return!!e||"Обязательное поле"}]},null,8,["modelValue","rules"]),Object(n["createVNode"])("div",null,[Object(n["createVNode"])(s,{label:"Сохранить",type:"submit",color:"primary"}),Object(n["withDirectives"])(Object(n["createVNode"])(s,{label:"Отмена",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[p]])])]})),_:1})]})),_:1})]})),_:1})}var q={props:{worker:{name:String,gender:String,avatar:String,birthDate:String,address:String,phone:String,email:String},header:String,submit:Function},setup:function(e){var t="https://pbs.twimg.com/media/DD1g0nFUMAEElE0.jpg",r=Object(n["ref"])({name:e.worker.name,gender:e.worker.gender,avatar:e.worker.avatar,birthDate:e.worker.birthDate.split(".").reverse().join("-"),address:e.worker.address,phone:e.worker.phone,email:e.worker.email});return{editingWorker:r,EMPTY_AVATAR:t}}},T=r("a370"),Q=r("0378"),A=r("6a67"),W=r("27f9"),I=r("7f67");q.render=D;var B=q;N()(q,"components",{QCard:v["a"],QCardSection:T["a"],QForm:Q["a"],QAvatar:m["a"],QBtnToggle:A["a"],QInput:W["a"],QBtn:g["a"]}),N()(q,"directives",{ClosePopup:I["a"]});var P=r("b76a"),H=r.n(P),E={setup:function(){var e=Object(n["ref"])([]),t=Object(n["ref"])(!1),r=Object(n["ref"])(0),o=Object(n["ref"])(!1),a=Object(n["ref"])(!1),c=Object(n["ref"])(null),l=function(t,r){t.stopPropagation(),e.value.splice(e.value.findIndex((function(e){return e.name==r})),1),sessionStorage.setItem("workers",JSON.stringify(e.value))},i=function(n,a){n.stopPropagation(),t.value=!1,o.value=!0,r.value=e.value.findIndex((function(e){return e.name==a}))},u=function(t,n){t.preventDefault(),o.value=!1,n.birthDate=n.birthDate.split("-").reverse().join("."),e.value.splice(r.value,1,n),sessionStorage.setItem("workers",JSON.stringify(e.value))},d=function(){t.value=!0,o.value=!0},s=function(t,r){t.preventDefault(),o.value=!1,r.birthDate=r.birthDate.split("-").reverse().join("."),e.value.push(r),sessionStorage.setItem("workers",JSON.stringify(e.value))},b=function(){sessionStorage.setItem("workers",JSON.stringify(e.value))};return{workers:e,editAddToggler:t,editing:r,editFormVisible:o,editClickHandler:i,editSubmit:u,addClickHandler:d,addSubmit:s,deleteWorker:l,drag:a,saveChanges:b,bar:c}},components:{Worker:x,FormWorker:B,draggable:H.a},mounted:function(){var e=this;if(sessionStorage.getItem("workers"))this.workers=JSON.parse(sessionStorage.getItem("workers"));else{var t=this.bar;t.start(),_.a.get("https://randomuser.me/api/?results=5").then((function(r){for(var n=0;n<r.data.results.length;n++){var o=r.data.results[n],a=new Date(Date.parse(o.dob.date)),c={name:o.name.first+" "+o.name.last,birthDate:a.toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric"}),gender:o.gender,avatar:o.picture.thumbnail,address:o.location.street.number+" "+o.location.street.name+", "+o.location.city,phone:o.phone,email:o.email};e.workers.push(c)}sessionStorage.setItem("workers",JSON.stringify(e.workers)),t.stop()}))}}},F=r("7ea5"),M=r("24e8"),U=r("de5e");E.render=i;var J=E;N()(E,"components",{QList:h["a"],QAjaxBar:F["a"],QCard:v["a"],QCardSection:T["a"],QDialog:M["a"],QPageSticky:U["a"],QBtn:g["a"]});var L={name:"LayoutDefault",components:{WorkersList:J},setup:function(){return{leftDrawerOpen:Object(n["ref"])(!1)}}},R=(r("3a3d"),r("4d5a")),Y=r("e359"),z=r("65c6"),G=r("6ac5"),K=r("09e3");L.render=c,L.__scopeId="data-v-155496f8";var X=L;N()(L,"components",{QLayout:R["a"],QHeader:Y["a"],QToolbar:z["a"],QToolbarTitle:G["a"],QPageContainer:K["a"]});var Z=r("b05d"),$=(r("0ca9"),r("7d6e"),r("e54f"),{config:{},plugins:{}});Object(n["createApp"])(X).use(Z["a"],$).mount("#app")},fe62:function(e,t,r){}});
//# sourceMappingURL=app.7e4bb65a.js.map